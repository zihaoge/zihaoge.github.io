import{s as e,r as t,h as a,n as l,a as s,o as n,c as i,w as o,b as d,d as r,t as c,e as u,f as h,g,F as p,i as D,j as f,S as k,k as m,l as y,m as _}from"./index.fb3ba05c.js";import{_ as w}from"./header-logo.d520d45a.js";import{_ as M}from"./header.1c056cc0.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";var v=b({data:()=>({allData:[],daoshu:0,isLogin:JSON.parse(localStorage.getItem("isLogin"))||!1}),created(){e({title:"加载中"}),t({url:"https://apis.netstart.cn/zhihudaily/stories/latest",success:e=>{this.allData=[...this.allData,e.data],a()}})},onLoad(){},methods:{navToDetail(e){l({url:"/pages/detail/detail?id="+e})},navToMe(){s({url:"/pages/me/me"})}},onReachBottom(){let l=new Date;l.setDate(l.getDate()+this.daoshu),e({title:"加载中"}),t({url:`https://apis.netstart.cn/zhihudaily/stories/before/${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}${String(l.getDate()).padStart(2,"0")}`,success:e=>{this.allData=[...this.allData,e.data],this.daoshu--},complete:()=>{a()}})}},[["render",function(e,t,a,l,s,b){const v=D,S=f,x=_,C=k;return s.allData.length?(n(),i(v,{key:0,class:"content"},{default:o((()=>[d(v,{class:"head"},{default:o((()=>[d(v,{class:"fl"},{default:o((()=>[d(v,{class:"time"},{default:o((()=>[r("p",null,c((new Date).getDate()),1),d(v,{class:"month"},{default:o((()=>[(new Date).getMonth()+1===1?(n(),u("p",{key:0},"一月")):h("",!0),(new Date).getMonth()+1===2?(n(),u("p",{key:1},"二月")):h("",!0),(new Date).getMonth()+1===3?(n(),u("p",{key:2},"三月")):h("",!0),(new Date).getMonth()+1===4?(n(),u("p",{key:3},"四月")):h("",!0),(new Date).getMonth()+1===5?(n(),u("p",{key:4},"五月")):h("",!0),(new Date).getMonth()+1===6?(n(),u("p",{key:5},"六月")):h("",!0),(new Date).getMonth()+1===7?(n(),u("p",{key:6},"七月")):h("",!0),(new Date).getMonth()+1===8?(n(),u("p",{key:7},"八月")):h("",!0),(new Date).getMonth()+1===9?(n(),u("p",{key:8},"九月")):h("",!0),(new Date).getMonth()+1===10?(n(),u("p",{key:9},"十月")):h("",!0),(new Date).getMonth()+1===11?(n(),u("p",{key:10},"十一月")):h("",!0),(new Date).getMonth()+1===12?(n(),u("p",{key:11},"十二月")):h("",!0)])),_:1})])),_:1}),d(v,{class:"bar"}),r("h3",null,"知乎日报")])),_:1}),d(v,{class:"fr"},{default:o((()=>[d(v,{class:"header"},{default:o((()=>[s.isLogin?(n(),i(S,{key:1,src:M,mode:"aspectFill",onClick:b.navToMe},null,8,["onClick"])):(n(),i(S,{key:0,src:w,mode:"",onClick:b.navToMe},null,8,["onClick"]))])),_:1})])),_:1})])),_:1}),d(C,{class:"swiper",circular:"",autoplay:"true","indicator-dots":"true","indicator-active-color":"white","indicator-color":"#bbbbbb"},{default:o((()=>[(n(!0),u(p,null,g(s.allData[0].top_stories,(e=>(n(),i(x,{key:e.id},{default:o((()=>[d(v,{class:"swiper-item uni-bg-red",onClick:t=>b.navToDetail(e.id)},{default:o((()=>[d(S,{src:e.image,mode:"widthFix"},null,8,["src"]),d(v,{class:"text",style:m(`background-image:linear-gradient(transparent,${e.image_hue.replace("0x","#")}) `)},{default:o((()=>[r("h3",null,c(e.title),1),r("p",null,c(e.hint),1)])),_:2},1032,["style"])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),(n(!0),u(p,null,g(s.allData,((e,t)=>(n(),i(v,{key:t,class:"lists"},{default:o((()=>[e.date!==`${(new Date).getFullYear()}${(new Date).getMonth()+1}${String((new Date).getDate()).padStart(2,"0")}`?(n(),i(v,{key:0,class:"everyday"},{default:o((()=>[r("p",null,c(e.date[4])+c(e.date[5])+"月"+c(e.date[6])+c(e.date[7])+"日",1)])),_:2},1024)):h("",!0),(n(!0),u(p,null,g(e.stories,(e=>(n(),i(v,{class:"list",key:e.id,onClick:t=>b.navToDetail(e.id)},{default:o((()=>[d(v,{class:"text"},{default:o((()=>[d(v,{class:"title"},{default:o((()=>[y(c(e.title),1)])),_:2},1024),d(v,{class:"hint"},{default:o((()=>[y(c(e.hint),1)])),_:2},1024)])),_:2},1024),d(v,{class:"img"},{default:o((()=>[d(S,{src:e.images[0],mode:"widthFix"},null,8,["src"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)))),128))])),_:1})):h("",!0)}],["__scopeId","data-v-756dfa00"]]);export{v as default};
