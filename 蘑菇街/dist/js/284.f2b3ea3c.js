"use strict";(self["webpackChunkmogu"]=self["webpackChunkmogu"]||[]).push([[284],{5284:function(s,t,i){i.r(t),i.d(t,{default:function(){return r}});i(7658);var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"commodityDdetails"},[t("nav",{staticClass:"commoditynav"},[s.swipepd?t("van-swipe",{ref:"swipe1",attrs:{loop:!1,width:270,height:390,"show-indicators":!1}},s._l(s.commodityDdetails?.topImages,(function(s,i){return t("van-swipe-item",{key:i,staticClass:"commodityimg"},[t("img",{attrs:{src:s+"_999x999.v1c0.81.webp",alt:""}})])})),1):s._e(),s.swipepd?s._e():t("van-swipe",{ref:"swipe2",attrs:{loop:!1,width:270,"show-indicators":!1}},s._l(s.commodityDdetails?.skuBarInfo?.list,(function(s){return t("van-swipe-item",{key:s.stockId,staticClass:"commodityimg"},[t("img",{attrs:{src:s.image+"_999x999.v1c0.81.webp",alt:""}})])})),1),s.commodityDdetails?t("div",{staticClass:"commoditynav-b"},[t("div",{staticClass:"commoditynav-b-l",on:{click:function(t){s.swipepd=!0}}},[t("div",{staticClass:"commoditynav-b-l-l"},[t("img",{attrs:{src:s.commodityDdetails?.normalShareInfo?.imageUrl+"_999x999.v1c0.81.webp",alt:""}})]),t("div",{staticClass:"commoditynav-b-l-r"},[s._v("颜色规格")])]),t("ul",{staticClass:"commoditynav-b-r"},s._l(s.commodityDdetails?.skuBarInfo?.list,(function(i,a){return t("li",{key:i.stockId,on:{click:function(t){return s.chengg(a)}}},[t("img",{attrs:{src:s.commodityDdetails?.skuBarInfo?.list[a].image+"_999x999.v1c0.81.webp",alt:""}})])})),0)]):s._e()],1),t("div",{staticClass:"price"},[t("p",[t("i",[s._v(s._s(s.commodityDdetails?.normalPrice?.currency))]),s._v(" "+s._s(s.commodityDdetails?.normalPrice?.nowPrice)+" "),s.commodityDdetails?.normalPrice?.priceTags.length?t("span",[s._v(s._s(s.commodityDdetails?.normalPrice?.priceTags[0].text))]):s._e()]),t("p",[s._v("已售"+s._s(s.commodityDdetails?.normalPrice?.sales))])]),s.PromotionList?.outers?.length?t("div",{staticClass:"outers"},[t("p",[s._v(s._s(s.PromotionList?.outers[0].text))]),t("p",[s._v("领券 "),t("van-icon",{attrs:{name:"arrow"}})],1)]):s._e(),s.commodityDdetails?.itemInfo?t("div",{staticClass:"title"},[t("p",[s._v(s._s(s.commodityDdetails?.itemInfo?.title))]),t("div",{staticClass:"icon"},[s.commodityDdetails?.itemInfo?.pickforme?.icon?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.commodityDdetails?.itemInfo?.pickforme?.icon,expression:"commodityDdetails?.itemInfo?.pickforme?.icon"}]}):s._e(),t("p",[s._v(s._s(s.commodityDdetails?.itemInfo?.pickforme?.name))])])]):s._e(),t("div",{staticClass:"bgbar"}),t("div",{staticClass:"sizecolor",on:{click:function(t){s.showmask=!0}}},[t("div",{staticClass:"text"},[t("p",[s._v("选择")]),s._l(s.commodityDdetails?.skuInfo?.props,(function(i){return t("p",{directives:[{name:"show",rawName:"v-show",value:!s.color&&!s.size,expression:"!color && !size"}],key:i.label},[s._v(" "+s._s(i.label)+" ")])})),t("div",{directives:[{name:"show",rawName:"v-show",value:s.color||s.size,expression:"color || size"}],staticClass:"select"},[t("p",[s._v("已选：")]),t("p",[s.color?t("span",{staticClass:"active"},[s._v("“"+s._s(s.color)+"”")]):t("span",[s._v("颜色")])]),t("p",[s.size?t("span",{staticClass:"active"},[s._v("“"+s._s(s.size)+"”")]):t("span",[s._v("尺码")])])])],2),t("div",{staticClass:"icon"},[t("van-icon",{attrs:{name:"arrow"}})],1)]),t("div",{staticClass:"express"},[s.commodityDdetails?.itemServices.columns[1]?t("p",[s._v(" "+s._s(s.commodityDdetails?.itemServices?.columns[1].desc)+" ")]):s._e(),s.commodityDdetails?.itemServices?.columns[2]?t("p",[s._v(" "+s._s(s.commodityDdetails?.itemServices?.columns[2].desc)+" ")]):s._e()]),t("div",{staticClass:"server"},[t("div",{staticClass:"text"},[t("p",[s._v("服务")]),t("p",[s._v(" "+s._s(s.commodityDdetails?.itemServices?.services[0].name)+" ")]),t("p",[s._v(" "+s._s(s.commodityDdetails?.itemServices?.services[1].name)+" ")]),t("p",[s._v(" "+s._s(s.commodityDdetails?.itemServices?.services[2].name)+" ")])]),t("div",{staticClass:"icon"},[t("van-icon",{attrs:{name:"arrow"}})],1)]),s.commodityDdetails?.rateInfoV2?.cRate?t("div",{staticClass:"comment"},[t("div",{staticClass:"titles"},[t("p",[s._v("评论("+s._s(s.commodityDdetails?.rateInfoV2?.cRate)+")")]),t("p",[s._v(" 评分 "),t("span",[s._v(s._s(s.commodityDdetails?.rateInfoV2?.cScore))])])]),t("div",{staticClass:"rateTags"},s._l(s.commodityDdetails?.rateInfo?.rateTags,(function(i){return t("p",{key:i.value},[s._v(" "+s._s(i.value)+"("+s._s(i.num)+") ")])})),0),t("van-swipe",{staticClass:"list",attrs:{loop:!1,width:310,"show-indicators":!1}},s._l(s.commodityDdetails?.rateInfoV2?.list,(function(i){return t("van-swipe-item",{key:i.rateId},[t("div",{staticClass:"card"},[t("div",{staticClass:"head"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.user.avatar,expression:"item.user.avatar"}]}),t("div",{staticClass:"name"},[t("p",[s._v(s._s(i.user.uname))]),t("p",[s._v(" "+s._s(s.handleTime(1e3*i.created))+" ")])])]),t("div",{staticClass:"content"},[t("p",[s._v(s._s(i.content))])])])])})),1)],1):s._e(),t("div",{staticClass:"bgbar"}),s.commodityDdetails?.shopInfo?t("div",{staticClass:"shop"},[t("div",{staticClass:"head"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.commodityDdetails?.shopInfo?.shopLogo,expression:"commodityDdetails?.shopInfo?.shopLogo"}]}),t("div",{staticClass:"msg"},[t("p",[t("span",[s._v(s._s(s.commodityDdetails?.shopInfo?.name))]),t("span",[s._v("进店 "),t("van-icon",{attrs:{name:"arrow"}})],1)]),t("div",{staticClass:"saleDescV2"},[t("img",{attrs:{src:i(2612)}}),s._v("| "),t("p",[s._v(s._s(s.commodityDdetails?.shopInfo?.saleDescV2))])]),t("div",{staticClass:"num"},s._l(s.commodityDdetails?.shopInfo?.shopLabels,(function(i){return t("p",{key:i.id},[s._v(" "+s._s(i?.text)+" ")])})),0)])]),t("div",{staticClass:"info"})]):s._e(),t("div",{staticClass:"bgbar"}),t("div",{staticClass:"detailInfo"},[s._m(0),t("div",{staticClass:"detailImage"},[t("p",[s._v(s._s(s.commodityDdetails?.detailInfo?.desc))]),s._l(s.commodityDdetails?.detailInfo?.detailImage[0].list,(function(s,i){return t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s,expression:"img"}],key:i})}))],2),t("div",{staticClass:"parameters",attrs:{id:"parameters"}},[t("p",[s._v("商品详情")]),t("div",{staticClass:"itemParams"},[t("div",{staticClass:"item"},s._l(s.commodityDdetails?.itemParams?.info?.set,(function(i,a){return t("p",{key:a},[t("span",[s._v(s._s(a))]),s._v(" "),t("span",[s._v(s._s(i))])])})),0),t("p",[s._v("查看全部 "),t("van-icon",{attrs:{name:"arrow"}})],1)])])]),t("div",{staticClass:"footer"},[t("div",{staticClass:"btn"},[t("van-icon",{attrs:{name:"shop-o"}}),t("p",[s._v("店铺")])],1),t("div",{staticClass:"btn"},[t("van-icon",{attrs:{name:"chat-o"}}),t("p",[s._v("客服")])],1),s.showFav?t("div",{staticClass:"btn",on:{click:function(t){s.showFav=!s.showFav}}},[t("van-icon",{attrs:{name:"star-o"}}),t("p",[s._v("收藏")])],1):t("div",{staticClass:"btn",on:{click:function(t){s.showFav=!s.showFav}}},[t("van-icon",{staticClass:"active",attrs:{name:"star"}}),t("p",[s._v("已收藏")])],1),t("div",{staticClass:"btn",on:{click:function(t){s.showmask=!0}}},[t("p",[s._v("加入购物车")])]),t("div",{staticClass:"btn",on:{click:function(t){s.showmask=!0}}},[t("p",[s._v("立即购买")])])]),t("div",{staticClass:"home",on:{click:function(t){return s.$router.push({path:"/"})}}},[t("van-icon",{attrs:{name:"wap-home-o"}})],1),t("div",{staticClass:"shopcart",on:{click:function(t){return s.$router.push({path:"/shopcart"})}}},[t("van-icon",{attrs:{name:"shopping-cart-o"}})],1),s.showmask?t("div",{staticClass:"ColorSizeMask"},[t("div",{staticClass:"mask",on:{click:function(t){s.showmask=!1}}}),t("div",{staticClass:"msg"},[t("div",{staticClass:"hasSelect"},[t("div",{staticClass:"imgs"},[s.commodityDdetails?.webImOptionInfo?.option?.img||s.src?t("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:s.color?s.src:s.commodityDdetails?.webImOptionInfo?.option?.img,expression:"\n            color ? src : commodityDdetails?.webImOptionInfo?.option?.img\n          ",arg:"background-image"}],staticClass:"img"}):s._e()]),t("div",{staticClass:"content"},[t("div",{staticClass:"icon"},[t("p",[s._v(s._s(s.commodityDdetails?.skuInfo?.priceRange))]),t("van-icon",{attrs:{name:"cross"},on:{click:function(t){s.showmask=!1}}})],1),t("p",[s._v(" 库存："+s._s(s.color||s.size?s.color&&s.size?s.allnum:s.allsizenum||s.allcolornum:s.commodityDdetails?.skuInfo?.totalStock)+"件 ")]),t("div",{staticClass:"select"},[s.color||s.size?t("div",[t("p",[s._v("已选：")]),t("p",[s.color?t("span",{staticClass:"active"},[s._v(" “"+s._s(s.color)+"”")]):t("span",[s._v("请选择 颜色")])]),s.commodityDdetails?.skuInfo?.props[1]?t("p",[s.size?t("span",{staticClass:"active"},[s._v("“"+s._s(s.size)+"”")]):t("span",[s._v("请选择 尺码")])]):s._e()]):t("p",[s._v("请选择 尺码 颜色")])])])]),t("div",{staticClass:"all"},[t("div",{staticClass:"color"},[t("p",[s._v(s._s(s.commodityDdetails?.skuInfo?.props[0].label))]),t("div",{staticClass:"type"},s._l(s.commodityDdetails?.skuInfo?.props[0].list,(function(i){return t("span",{key:i.index,class:s.color===i.name?"active":"",on:{click:function(t){s.color===i.name?s.color="":s.color=i.name}}},[s._v(" "+s._s(i.name)+" ")])})),0)]),s.commodityDdetails?.skuInfo?.props[1]?t("div",{staticClass:"size"},[t("p",[s._v(s._s(s.commodityDdetails?.skuInfo?.props[1].label))]),t("div",{staticClass:"type"},s._l(s.commodityDdetails?.skuInfo?.props[1].list,(function(i){return t("span",{key:i.index,class:s.size===i.name?"active":"",on:{click:function(t){s.size===i.name?s.size="":s.size=i.name}}},[s._v(" "+s._s(i.name)+" ")])})),0)]):s._e(),t("div",{staticClass:"num"},[t("p",[s._v("数量")]),t("div",{staticClass:"btn"},[t("button",{class:s.nums<=1?"disactive":"",on:{click:function(t){s.nums<=1?s.nums=1:s.nums--}}},[s._v(" - ")]),t("p",[s._v(s._s(s.nums))]),t("button",{on:{click:function(t){s.nums++}}},[s._v("+")])])])]),t("div",{staticClass:"footerbtn"},[t("div",{staticClass:"fl-btn",on:{click:s.goodsMsg}},[s._v("加入购物车")]),t("div",{staticClass:"fr-btn"},[s._v("立即购买")])])])]):s._e()])},o=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"header"},[t("p",{staticClass:"active"},[s._v("图文详情")]),t("p",[t("a",{attrs:{href:"#parameters"}},[s._v("商品参数")])])])}],e=i(3822),c={data(){return{itemid:this.$route.query.id,swipepd:!0,showFav:!0,showmask:!1,nums:1,size:"",color:"",src:null,allsizenum:"",allcolornum:""}},created(){this.$store.dispatch("getcommodityDdetails",this.itemid),this.$store.dispatch("getPromotionList",this.itemid)},computed:{...(0,e.rn)(["commodityDdetails","PromotionList","cartlist"]),allnum:function(){return this.color&&this.size?this.commodityDdetails?.skuInfo?.skus.filter((s=>s.size===this.size&&s.style===this.color))[0].stock:""}},methods:{...(0,e.OI)(["getcartlist"]),chengg(s){this.swipepd=!1,setTimeout((()=>{this.$refs.swipe2.swipeTo(s)}),0)},handleTime(s){let t=new Date(s);const i=t.getFullYear(),a=t.getMonth()+1,o=t.getDate();return`${i}-${a}-${o}`},goodsMsg(){1===this.commodityDdetails?.skuInfo?.props.length&&this.color&&this.getcartlist({nums:this.nums,title:this.commodityDdetails?.itemInfo?.title,price:this.commodityDdetails?.normalPrice?.nowPrice,src:this.src,color:this.color||"",id:this.cartlist.length?Math.max(...this.cartlist.map((s=>s.id)))+1:1}),2===this.commodityDdetails?.skuInfo?.props.length&&this.color&&this.size&&this.getcartlist({nums:this.nums,title:this.commodityDdetails?.itemInfo?.title,price:this.commodityDdetails?.normalPrice?.nowPrice,src:this.src,color:this.color||"",size:this.size||"",id:this.cartlist.length?Math.max(...this.cartlist.map((s=>s.id)))+1:1})}},watch:{color:function(s){this.allcolornum=s?this.commodityDdetails?.skuInfo?.skus.filter((t=>t.style===s)).map((s=>s.stock)).reduce(((s,t)=>s+t)):"",this.commodityDdetails?.skuBarInfo?.list&&s?this.src=this.commodityDdetails?.skuBarInfo?.list.filter((t=>t.label===s))[0].image:this.src=this.commodityDdetails?.webImOptionInfo?.option?.img},size:function(s){this.size?this.allsizenum=this.commodityDdetails?.skuInfo?.skus.filter((t=>t.size===s)).map((s=>s.stock)).reduce(((s,t)=>s+t)):this.allsizenum=""},cartlist:function(s){localStorage.setItem("cartlist",JSON.stringify(s))}}},n=c,l=i(1001),m=(0,l.Z)(n,a,o,!1,null,"56e71e8d",null),r=m.exports},2612:function(s){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAEdUExURUdwTP////9EZv9EZ/9FaP9Jbf9EZv9FZ/9EZ/9EZv9FZv9FZ/9FaP9FZ/9FZ/9EZ/9FZ/9GZv9Hcf9GZ/9EaP+AgP9FZv9EZv9Laf9FZv9GZ/9EZv9Eav9NZv9EZ/9Iaf9HZ/9FZv9FZ/9FZv9EZv+AgP9FZv9GaP9EZ/9EZv9EZv9FZv9FZ/9FZv9QcP9GZv9GaP9FZv9FZ/9EZ/9EZv9FaP9GaP9Iaf9GaP9EZv9FZv9EaP9Jbf9GZ/9EZ/9Ra/9HZ/9HaP9FZ/9GZ/9MaP9FZv9EZv9Kav9JZ/9GZ/9EZv9Gav9FZ/9EZv9GZ/9EZv9EZ/9HaP9EZv9FZ/9EZ/9GZv9EZv9Faf9Gaf9EZv9Faf9EZ/9FZv9Gav9EZgmIivYAAABedFJOUwABS/tRB/6f9vr0yztZ+PP9KBKPewSx7yL5RXgpFMYnXtTf3pYC7Raw8g/8yWsQdWKJruzrdoAuTFpkRxx5dBNPNkpUG8/KGCpjpR13rz73v1O+kM43LT9Jf06kRjrqGSq8AAABYUlEQVQ4y6XVZXODQBAG4JDgEZIQt8Zd6+7u7t3//zMaQiik7MFN+367vWeYm9udw+P5d9pteruiKM/U2A/gp7UbMM4nJb7V8D2dfYJJ9qjwlY7naWyO1zEfocACTCO42wvJwNKmK1bhJ6qb3ZFNLEdd8DJY8kZ2+cBw1JStWGmOhoH8rIqfslmhUAdC6gUhy+biut1aAIosXmr2EChzMsZchc5WOO3TAZHGil/6oTMhd3uTMa5jP+1m06/m5e1KzlZ6t171QcfJ+u5mGxMMk20n+LvZRaIOF+2jsc7jlj/DBqmH4x46dREcz6GYxTGL4hiOYyg+x/EHio9w/IjZGmH4xBqCU6SmpBC8SsJeBC9ZBqda9ZmrgdMbB4lxHyIJcHrzutO942t9/eKfFroIbk12ykHGKDBr5UmpZbeMVk9uc9YaN0hqVcauSxBSbS9h9CEEJeQYDW8f61Xf2/jbj/cb6I0jqNJQxoAAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=284.f2b3ea3c.js.map