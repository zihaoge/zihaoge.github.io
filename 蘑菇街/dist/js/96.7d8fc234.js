"use strict";(self["webpackChunkmogu"]=self["webpackChunkmogu"]||[]).push([[96],{1301:function(t,s,i){i.d(s,{Z:function(){return h}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"searchsuggest"},[s("div",{staticClass:"search"},[s("div",{staticClass:"btn",on:{click:function(s){return t.$emit("exit-searchsuggest",!1)}}},[s("img",{attrs:{src:i(1282),alt:""}})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",attrs:{type:"text",placeholder:t.searchHot?.sketch?.data?.frontword},domProps:{value:t.value},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.addhistory.apply(null,arguments)},focus:function(s){t.$refs.input.style.border="1rem solid #ff5777"},blur:function(s){t.$refs.input.style.border="1rem solid #aaa"},input:function(s){s.target.composing||(t.value=s.target.value)}}}),s("p",[t._v("搜索")])]),s("div",{staticClass:"history"},[s("p",{staticClass:"historytitle"},[s("i",{staticClass:"icon"}),t._v(" 历史搜索 "),s("span",{staticClass:"delete",on:{click:function(s){t.history=[]}}})]),s("ul",{staticClass:"list"},[t.history.length?t._l(t.history,(function(i){return s("li",{key:i,on:{click:function(s){return t.add(i)}}},[s("p",[t._v(t._s(i))])])})):s("li",[s("p",{staticClass:"active"},[t._v("暂无历史搜索")])])],2)]),s("div",{staticClass:"hot"},[t._m(0),s("ul",{staticClass:"list"},t._l(t.searchHot?.hotWord?.data,(function(i){return s("li",{key:i.frontword,on:{click:function(s){return t.add(i.frontword)}}},[s("p",{class:i.color?"active":""},[t._v(" "+t._s(i?.frontword)+" ")])])})),0)])])},a=[function(){var t=this,s=t._self._c;return s("p",{staticClass:"hottitle"},[s("i",{staticClass:"icon"}),t._v(" 热门搜索")])}],r=(i(7658),i(3822)),o={data(){return{history:JSON.parse(localStorage.getItem("history"))||[],value:""}},created(){this.$store.dispatch("getsearchHot")},mounted(){this.$refs.input.focus()},computed:{...(0,r.rn)(["searchHot"])},methods:{addhistory:function(){""!=this.value&&(this.history=[...new Set([this.value,...this.history])],this.$router.push({path:"/searchresult",query:{keyword:this.value}}))},add:function(t){this.history=[...new Set([t,...this.history])],"/searchresult"!=this.$route.path?this.$router.push({path:"/searchresult",query:{keyword:t}}):this.$router.replace({path:"/searchresult",query:{keyword:t}}),this.$nextTick((()=>{this.$emit("noshow-searchsuggest",!1)}))}},watch:{history:function(t){console.log("history变化了"),localStorage.setItem("history",JSON.stringify(t))}}},l=o,n=i(1001),c=(0,n.Z)(l,e,a,!1,null,"654dc00f",null),h=c.exports},7096:function(t,s,i){i.r(s),i.d(s,{default:function(){return u}});i(7658);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"classify"},[s("div",{staticClass:"search"},[s("div",{staticClass:"im-talk"},[s("svg",{staticClass:"icon",attrs:{t:"1665056351788",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3028",width:"35",height:"35"},on:{click:function(s){return t.$router.back()}}},[s("path",{attrs:{d:"M608 736c-6.4 0-19.2 0-25.6-6.4l-192-192C384 524.8 384 499.2 390.4 486.4l192-192c12.8-12.8 32-12.8 44.8 0s12.8 32 0 44.8L460.8 512l166.4 166.4c12.8 12.8 12.8 32 0 44.8C627.2 736 614.4 736 608 736z","p-id":"3029",fill:"#adadad"}})])]),s("div",{staticClass:"input",on:{click:function(s){t.showSearchSuggest=!0}}},[s("img",{attrs:{src:i(2926),alt:""}}),s("input",{attrs:{type:"text",placeholder:"关键词"}})]),s("div",{staticClass:"cart",on:{click:function(s){return t.$router.push("/shopcart")}}})]),s("div",{staticClass:"nav"},[s("van-sidebar",{staticClass:"mainnav",model:{value:t.activeKey,callback:function(s){t.activeKey=s},expression:"activeKey"}},t._l(t.classifyMainNav,(function(i){return s("van-sidebar-item",{key:i._system_record_entry_id,attrs:{title:i.title},on:{click:function(s){t.fcid=i?.miniWallkey,t.sort="pop",t.pid=i?.maitKey}}})})),1),s("div",{staticClass:"content"},[s("ul",{staticClass:"secondnav"},t._l(t.classifySecondNav,(function(i){return s("li",{key:i._system_record_entry_id,on:{click:function(s){return t.$router.push({path:"/searchresult",query:{keyword:i.title}})}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i?.image,expression:"secondnav?.image"}]}),s("p",[t._v(t._s(i?.title))])])})),0),s("ul",{staticClass:"sortFilter"},t._l(t.list?.sortFilter,(function(i){return s("li",{key:i.sortKey},[s("p",{class:i.sortKey===t.sort?"active":"",on:{click:function(s){t.sort=i?.sortKey}}},[t._v(" "+t._s(i?.title)+" ")])])})),0),t.l.length?s("van-list",{staticClass:"wall",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.l,(function(i){return s("div",{key:i.iid,staticClass:"list",on:{click:function(s){return t.$router.push({path:"/commodity",query:{id:i.iid}})}}},[s("div",{staticClass:"img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i?.img,expression:"d?.img"}]}),s("span",[t._v("已售"+t._s(i?.sale))])]),s("div",{staticClass:"msg"},[s("p",[t._v(t._s(i?.title))]),s("div",{staticClass:"num"},[s("span",[t._v("¥"+t._s(i?.price))]),s("span",[t._v(t._s(i?.cfav))])])])])})),0):t._e()],1)],1),t.showSearchSuggest?s("SearchSuggest",{on:{"exit-searchsuggest":function(s){t.showSearchSuggest=s}}}):t._e()],1)},a=[],r=i(3822),o=i(1301),l={components:{SearchSuggest:o.Z},data(){return{pid:3627,fcid:10062603,page:1,sort:"pop",activeKey:0,showSearchSuggest:!1,list:{},loading:!1,finished:!1,l:[]}},created(){this.$store.dispatch("getClassifyMainNav"),this.$store.dispatch("getClassifySecondNav",this.pid),this.axios.get("https://apis.netstart.cn/mogujie/category/miniWall",{params:{fcid:this.fcid,page:this.page,sort:this.sort,cKey:"h5-cube"}}).then((t=>{this.list=t.data.result,this.loading=!1,this.l=[...this.l,...this.list.wall.docs]}))},computed:{...(0,r.rn)(["classifyMainNav","classifySecondNav","classifyMiniwall"])},methods:{onLoad(){this.page++,this.axios.get("https://apis.netstart.cn/mogujie/category/miniWall",{params:{fcid:this.fcid,page:this.page,sort:this.sort,cKey:"h5-cube"}}).then((t=>{this.list={...this.list,...t.data.result},this.l=[...new Set(JSON.stringify([...this.l,...this.list.wall.docs])).map((t=>JSON.parse(t)))],this.loading=!1,this.l.length>=this.list.wall.total&&(this.finished=!0)}))}},watch:{sort:function(t){this.axios.get("https://apis.netstart.cn/mogujie/category/miniWall",{params:{fcid:this.fcid,page:this.page,sort:t,cKey:"h5-cube"}}).then((t=>{this.list=t.data.result,this.loading=!1,this.l=[...this.list.wall.docs]}))},fcid:function(t){this.axios.get("https://apis.netstart.cn/mogujie/category/miniWall",{params:{fcid:t,page:this.page,sort:t,cKey:"h5-cube"}}).then((t=>{this.list=t.data.result,this.loading=!1,this.l=[...this.list.wall.docs]}))},pid:function(t){this.$store.dispatch("getClassifySecondNav",t)}}},n=l,c=i(1001),h=(0,c.Z)(n,e,a,!1,null,"60eb8b5e",null),u=h.exports},2926:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAMAAAAocOYLAAAAQlBMVEUAAAC8vLy8vLz///+8vLy8vLy8vLy+vr67u7u7u7u9vb2+vr6/v7/ExMTDw8PCwsK+vr68vLy7u7u8vLy+vr67u7v4YfcLAAAAFXRSTlMAnNsB8222J/q8ZT8cGhEMTsLwozoqaKd7AAAAuUlEQVQoz72SyxbDIAhE1fiIRmNe/P+vdhaxtZxUdr0rkREHRd1k5421xrusHih6pptZF8XZLHXYjaUdgZhCrSFFAu77NHbM0qLFIOwrFBTf10+87rii86BxGulOgAr6HWU4R/GeBV3kzlxUjNhZ9ESJ5xORb2tcFng+wFJbw33l+YoOpLxUX/In9Se9z/h9z/H/HGX8v34azQfQ0+/5OnwTPM7nWSbNBHy+mYDxT4ESBJcgCGrEFdQLlUURxlykoysAAAAASUVORK5CYII="},1282:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAMFBMVEUAAACKioqKioqKioqJiYmHh4eKioqKioqLi4uPj4+JiYmJiYmJiYmKioqKioqKioogVRG9AAAAD3RSTlMAYPAwoCDC4EAQgHBQkLBFlOT3AAABbElEQVR42u3azUkDcRCG8QmbBD9A7WCFFBA7UAI5ZzvQEuwgdqB48GwJliA2khZ0USMojMvfy44XD/IOhDzP8b0Mv032tvavRrN2buqe3P3ItA2868W01d7V3sRRAJE/r9pL9yZs4MojEeKPYdVA1mEVQT7CKoHEP5cIEt9FIECAAAECBEgXECBAgAABAqQLCBAgQIAA2VbIa1hFkLPeCAQIECBAgAARdJoA2Z0mQO4SILZKgIwyIMMEiJ0nQGyVALGlEhJ/9wtTtu+lxpQNE56WjcuRr7CJjjybtMNy5DhsoiOXv+cNfFw/R95M2kE58mnS9sJHW6IqLz2YtGX4NEzUohxpT0zZtZcmpmzsCZQdz6AsMii3GZRqmkGpMygDhwKlHxQoUKBAgQIFCpT+CgUKFChQoECBAiWsUKBAgQIFChQoUPrrRlPew6qiNGEVUa5MWS09EimNSauFP3ykTExcXV5GcdVsPbe/+wbf1d0H6qwMXQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=96.7d8fc234.js.map